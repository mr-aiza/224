<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- ğŸ”‘ Ø³Ø¦Ùˆ -->
<title>ÙØ±Ù… Ø±Ø²Ø±Ùˆ Ù…Ø±Ø§Ø³Ù… | ØªØ´Ø±ÛŒÙØ§Øª Ø±ÙˆÛŒØ§ÛŒÛŒ</title>
<meta name="description" content="ÙØ±Ù… Ø±Ø²Ø±Ùˆ Ø¢Ù†Ù„Ø§ÛŒÙ† Ù…Ø±Ø§Ø³Ù… Ø¹Ø±ÙˆØ³ÛŒ Ø¨Ø§ Ø§Ù…Ú©Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø®Ø¯Ù…Ø§Øª Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±ØŒ ØªØ§Ø±ÛŒØ® Ù…Ø±Ø§Ø³Ù…ØŒ Ù†ÙˆØ¹ Ù…Ø±Ø§Ø³Ù… Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ´â€ŒÙØ§Ú©ØªÙˆØ± Ùˆ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù†.">
<meta name="keywords" content="Ø±Ø²Ø±Ùˆ Ù…Ø±Ø§Ø³Ù…ØŒ ÙØ±Ù… Ø±Ø²Ø±Ùˆ Ø¹Ø±ÙˆØ³ÛŒØŒ Ø«Ø¨Øª Ù…Ø±Ø§Ø³Ù…ØŒ Ø±Ø²Ø±Ùˆ ØªØ´Ø±ÛŒÙØ§ØªØŒ Ø±Ø²Ø±Ùˆ ØªØ§Ù„Ø§Ø±">
<meta name="robots" content="index, follow">
<meta http-equiv="Content-Language" content="fa" />
  <link rel="stylesheet" href="auth-style.css">
  <link rel="stylesheet" href="bookingstyle.css" />
  <link href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.min.js"></script>

<!-- Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯ -->
<button id="authBtn">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</button>

<!-- Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù¾Ø³ Ø§Ø² ÙˆØ±ÙˆØ¯ -->
<div id="userProfile" style="display: none;">
  <p>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØŒ <span id="userName"></span></p>
  <button id="logoutBtn">Ø®Ø±ÙˆØ¬</button>
</div>

<!-- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ ÙØ±Ù… ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
<div id="authModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>

    <h2>ÙˆØ±ÙˆØ¯ ÛŒØ§ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</h2>
    <form id="authForm">
      <input type="text" name="fullName" id="fullName" placeholder="Ù†Ø§Ù… Ú©Ø§Ù…Ù„" required />
      <input type="text" name="phoneNumber" id="phoneNumber" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³" required />
      <input type="submit" value="Ø§Ø¯Ø§Ù…Ù‡" />
    </form>
  </div>
</div>

<script src="auth-script.js"></script>
  
</head>
<body>
<canvas id="bgCanvas"></canvas>

<!-- Ø¯Ú©Ù…Ù‡ Ù…ÙˆØ²ÛŒÚ© -->
<audio id="bgMusic" src="wigen_wedding.mp3" loop></audio>
<button id="audioToggle" title="Ù¾Ø®Ø´/ØªÙˆÙ‚Ù Ù…ÙˆØ³ÛŒÙ‚ÛŒ"><i class="fa fa-music"></i></button>

<!-- Ù…Ù†Ùˆ -->
<nav>
  <a href="index.html">Ø®Ø§Ù†Ù‡</a>
  <a href="services.html">Ø®Ø¯Ù…Ø§Øª Ù…Ø§</a>
  <a href="portfolio.html">Ù†Ù…ÙˆÙ†Ù‡â€ŒÚ©Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø§</a>
  <a href="booking.html">Ø±Ø²Ø±Ùˆ Ù…Ø±Ø§Ø³Ù…</a>
  <a href="cooperation.html">Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¨Ø§ Ø´Ù…Ø§</a>
  <a href="waiter.html">Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù‡Ù…Ø§Ù†Ø¯Ø§Ø±</a>
  <a href="about.html">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
  <a href="contact.html">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a>
</nav>

<!-- Ù‡Ø¯Ø± -->
<header>
  <h1>Ø±Ø²Ø±Ùˆ Ù…Ø±Ø§Ø³Ù… Ø±ÙˆÛŒØ§ÛŒÛŒ Ø´Ù…Ø§</h1>
  <p>Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.ÛŒØ§ Ø§Ú¯Ø± ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ø®ÙˆØ¯ Ù†Ø´Ø¯Ù‡ Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯ . <a href="auth.html">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a></p>
</header>

<main>
  <form id="bookingForm" class="service-box" novalidate>
    <label>Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
    <input type="text" name="fullname" required>

    <label>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
    <input type="tel" name="phone" pattern="09\d{9}" required>
    <div class="info-text">Ù…Ø«Ù„Ø§Ù‹: 09123456789</div>

    <label>Ø§ÛŒÙ…ÛŒÙ„:</label>
    <input type="email" name="email" required>

    <label>ØªØ§Ø±ÛŒØ® Ù…Ø±Ø§Ø³Ù…:</label>
    <input type="date" id="eventDate" name="eventDate">
<div id="shamsiDateDisplay" class="info-text"></div>


    <label>Ù†ÙˆØ¹ Ù…Ø±Ø§Ø³Ù…:</label>
    <select name="eventType" required>
      <option value="" disabled selected>Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹</option>
      <option value="Ø¹Ø±ÙˆØ³ÛŒ">Ø¹Ø±ÙˆØ³ÛŒ</option>
      <option value="Ù†Ø§Ù…Ø²Ø¯ÛŒ">Ù†Ø§Ù…Ø²Ø¯ÛŒ</option>
      <option value="ØªÙˆÙ„Ø¯">ØªÙˆÙ„Ø¯</option>
      <option value="Ø³Ø§ÛŒØ±">Ø³Ø§ÛŒØ±</option>
    </select>

    <fieldset class="checkbox-group">
      <legend>Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø§Ù†ØªØ®Ø§Ø¨ÛŒ:</legend>

      <label><input type="checkbox" id="fingerFood" name="services" value="fingerFood"> ÙÛŒÙ†Ú¯Ø± ÙÙˆØ¯</label>
      <div id="submenu-fingerFood" class="submenu">
        <label><input type="radio" name="fingerFoodLevel" value="Ø§Ù‚ØªØµØ§Ø¯ÛŒ"> Ø§Ù‚ØªØµØ§Ø¯ÛŒ</label>
        <label><input type="radio" name="fingerFoodLevel" value="Ù…Ø¹Ù…ÙˆÙ„ÛŒ"> Ù…Ø¹Ù…ÙˆÙ„ÛŒ</label>
        <label><input type="radio" name="fingerFoodLevel" value="ÙˆÛŒÚ˜Ù‡"> ÙˆÛŒÚ˜Ù‡</label>
      </div>

      <label><input type="checkbox" id="flowerDecoration" name="services" value="flowerDecoration"> Ú¯Ù„â€ŒØ¢Ø±Ø§ÛŒÛŒ</label>
      <div id="submenu-flowerDecoration" class="submenu">
        <label><input type="radio" name="flowerDecorationLevel" value="Ø§Ù‚ØªØµØ§Ø¯ÛŒ"> Ø§Ù‚ØªØµØ§Ø¯ÛŒ</label>
        <label><input type="radio" name="flowerDecorationLevel" value="Ù…Ø¹Ù…ÙˆÙ„ÛŒ"> Ù…Ø¹Ù…ÙˆÙ„ÛŒ</label>
        <label><input type="radio" name="flowerDecorationLevel" value="ÙˆÛŒÚ˜Ù‡"> ÙˆÛŒÚ˜Ù‡</label>
      </div>

      <label><input type="checkbox" id="juice" name="services" value="juice"> Ø¢Ø¨â€ŒÙ…ÛŒÙˆÙ‡</label>
      <div id="submenu-juice" class="submenu">
        <label><input type="radio" name="juiceLevel" value="Ø§Ù‚ØªØµØ§Ø¯ÛŒ"> Ø§Ù‚ØªØµØ§Ø¯ÛŒ</label>
        <label><input type="radio" name="juiceLevel" value="Ù…Ø¹Ù…ÙˆÙ„ÛŒ"> Ù…Ø¹Ù…ÙˆÙ„ÛŒ</label>
        <label><input type="radio" name="juiceLevel" value="ÙˆÛŒÚ˜Ù‡"> ÙˆÛŒÚ˜Ù‡</label>
      </div>

      <label><input type="checkbox" id="dinner" name="services" value="dinner"> Ø´Ø§Ù…</label>
      <div id="submenu-dinner" class="submenu">
        <label><input type="radio" name="dinnerType" value="Ø¯ÛŒØ³ Ù¾Ø±Ø³"> Ø¯ÛŒØ³ Ù¾Ø±Ø³</label>
        <label><input type="radio" name="dinnerType" value="Ø³Ù„Ù Ø³Ø±ÙˆÛŒØ³"> Ø³Ù„Ù Ø³Ø±ÙˆÛŒØ³</label>
      </div>
    </fieldset>

    <label>ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†â€ŒÙ‡Ø§:</label>
    <input type="number" id="guestCount" name="guestCount" min="1" required>
    <div class="info-text" id="staffCountText">ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†Ø¯Ø§Ø±: 0</div>

    <label>ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
    <textarea name="notes" rows="3"></textarea>

    <input type="submit" value="Ø«Ø¨Øª Ø±Ø²Ø±Ùˆ">

    <div id="formSuccess" class="success-text"></div>
    <div id="formError" class="error-text"></div>
    <div id="trackingCode" class="info-text"></div>
  </form>

</main>

<footer>&copy; Û²Û°Û²Ûµ ØªØ´Ø±ÛŒÙØ§Øª Ø±ÙˆÛŒØ§ÛŒÛŒ</footer>

<script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.js"></script>

<script src="booking-script.js"></script>
<script>
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth;
  let H = canvas.height = window.innerHeight;

  function drawHeart(ctx, x, y, size, color) {
    ctx.save();
    ctx.beginPath();
    const topCurveHeight = size * 0.3;
    ctx.moveTo(x, y + topCurveHeight);
    ctx.bezierCurveTo(x, y, x - size / 2, y, x - size / 2, y + topCurveHeight);
    ctx.bezierCurveTo(x - size / 2, y + (size + topCurveHeight) / 2, x, y + (size + topCurveHeight) / 1.2, x, y + size);
    ctx.bezierCurveTo(x, y + (size + topCurveHeight) / 1.2, x + size / 2, y + (size + topCurveHeight) / 2, x + size / 2, y + topCurveHeight);
    ctx.bezierCurveTo(x + size / 2, y, x, y, x, y + topCurveHeight);
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();
    ctx.restore();
  }

  const hearts = [];
  for (let i = 0; i < 70; i++) {
    hearts.push({
      x: Math.random() * W,
      y: Math.random() * H,
      size: Math.random() * 16 + 8,
      speedX: Math.random() * 0.5 + 0.2,
      speedY: Math.random() * 0.5 + 0.2,
      color: `rgba(236,64,122,${Math.random() * 0.4 + 0.3})`
    });
  }

  function update() {
    ctx.clearRect(0, 0, W, H);
    for (const h of hearts) {
      h.x += h.speedX;
      h.y += h.speedY;
      if (h.x > W) h.x = -h.size;
      if (h.y > H) h.y = -h.size;
      drawHeart(ctx, h.x, h.y, h.size, h.color);
    }
    requestAnimationFrame(update);
  }

  window.addEventListener('resize', () => {
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  });

  update();
</script>
  <script>
    let isLogin = true;

function openAuth() {
  document.getElementById("authModal").classList.remove("hidden");
}

function closeAuth() {
  document.getElementById("authModal").classList.add("hidden");
}

function toggleAuthMode() {
  isLogin = !isLogin;
  document.getElementById("authTitle").innerText = isLogin ? "ÙˆØ±ÙˆØ¯" : "Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…";
  document.getElementById("authBtn").innerText = isLogin ? "ÙˆØ±ÙˆØ¯" : "Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…";
  document.getElementById("authToggleText").innerHTML =
    isLogin
      ? 'Ø­Ø³Ø§Ø¨ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="toggleAuthMode()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯</a>'
      : 'Ø­Ø³Ø§Ø¨ Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="toggleAuthMode()">ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</a>';
}

document.getElementById("authForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const username = document.getElementById("authUsername").value;
  const password = document.getElementById("authPassword").value;

  const route = isLogin ? "/login" : "/register";

  const res = await fetch(route, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ username, password }),
  });

  const data = await res.json();
  if (res.ok) {
    closeAuth();
    localStorage.setItem("username", username);
    updateUserUI(username);
  } else {
    alert(data.error || "Ø®Ø·Ø§ Ø¯Ø± Ø¹Ù…Ù„ÛŒØ§Øª");
  }
});

function updateUserUI(username) {
  document.getElementById("loginBtn").classList.add("hidden");
  document.getElementById("userProfile").classList.remove("hidden");
  document.getElementById("userNameDisplay").innerText = `Ø³Ù„Ø§Ù…ØŒ ${username}`;
}

function logout() {
  localStorage.removeItem("username");
  document.getElementById("loginBtn").classList.remove("hidden");
  document.getElementById("userProfile").classList.add("hidden");
}

window.addEventListener("DOMContentLoaded", () => {
  const username = localStorage.getItem("username");
  if (username) updateUserUI(username);
});

</script>
<!-- Ú†Øª Ø¢Ù†Ù„Ø§ÛŒÙ† -->
<script src="tawk.js"></script>
  <!-- ğŸ” Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ù„Ø§Ú¯ÛŒÙ† Ùˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… -->
<div id="authModal" class="auth-modal hidden">
  <div class="auth-box">
    <span class="close-auth" onclick="closeAuth()">&times;</span>
    <h2 id="authTitle">ÙˆØ±ÙˆØ¯</h2>
    <form id="authForm">
      <input type="text" id="authUsername" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ" required />
      <input type="password" id="authPassword" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" required />
      <button type="submit" id="authBtn">ÙˆØ±ÙˆØ¯</button>
    </form>
    <p id="authToggleText">
      Ø­Ø³Ø§Ø¨ Ù†Ø¯Ø§Ø±ÛŒØ¯ØŸ <a href="#" onclick="toggleAuthMode()">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯</a>
    </p>
  </div>
</div>

<!-- ğŸ”˜ Ø¯Ú©Ù…Ù‡ ÙˆØ±ÙˆØ¯ ÛŒØ§ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ -->
<div id="userPanel">
  <button id="loginBtn" onclick="openAuth()">ÙˆØ±ÙˆØ¯</button>
  <div id="userProfile" class="hidden">
    <span id="userNameDisplay"></span>
    <button onclick="logout()">Ø®Ø±ÙˆØ¬</button>
  </div>
</div>

</body>
</html>
