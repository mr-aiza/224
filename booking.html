<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>رزرو مراسم | تشریفات رویایی</title>

  <link rel="stylesheet" href="bookingstyle.css" />

  <link href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
<canvas id="heartCanvas"></canvas>

<nav>
  <a href="index.html">خانه</a>
  <a href="services.html">خدمات</a>
  <a href="portfolio.html">نمونه‌کارها</a>
  <a href="booking.html" class="active">رزرو</a>
  <a href="about.html">درباره ما</a>
  <a href="contact.html">تماس با ما</a>
</nav>

<header>
  <h1>رزرو مراسم رویایی شما</h1>
  <p>لطفاً اطلاعات زیر را دقیق وارد کنید و تاریخ آزاد را انتخاب نمایید.</p>
</header>

<main>
  <form id="bookingForm" class="service-box" action="/submit" method="POST" novalidate>
    <label for="fullname">نام و نام خانوادگی:</label>
    <input type="text" id="fullname" name="fullname" placeholder="مثلاً علی رضایی" required>

    <label for="phone">شماره تماس:</label>
    <input type="tel" id="phone" name="phone" placeholder="مثلاً 09123456789" pattern="09\d{9}" required>
    <div class="info-text">فرمت شماره: 09xxxxxxxxx</div>

    <label for="email">ایمیل:</label>
    <input type="email" id="email" name="email" placeholder="example@mail.com" required>

    <label for="eventDate">تاریخ مراسم:</label>
    <input type="date" id="eventDate" name="eventDate" required>
    <div class="info-text">تاریخ‌هایی که رزرو شده‌اند غیرفعال هستند.</div>

    <label for="eventType">نوع مراسم:</label>
    <select id="eventType" name="eventType" required>
      <option value="" disabled selected>نوع مراسم را انتخاب کنید</option>
      <option value="wedding">عروسی</option>
      <option value="engagement">نامزدی</option>
      <option value="birthday">تولد</option>
      <option value="other">سایر</option>
    </select>

    <fieldset class="checkbox-group">
      <legend>امکانات انتخابی:</legend>

      <label><input type="checkbox" id="fingerFood" name="services" value="fingerFood">فینگر فود</label>
      <div id="submenu-fingerFood" class="submenu">
        <label><input type="radio" name="fingerFoodLevel" value="اقتصادی">اقتصادی</label>
        <label><input type="radio" name="fingerFoodLevel" value="معمولی">معمولی</label>
        <label><input type="radio" name="fingerFoodLevel" value="ویژه">ویژه</label>
      </div>

      <label><input type="checkbox" id="flowerDecoration" name="services" value="flowerDecoration">گل‌آرایی</label>
      <div id="submenu-flowerDecoration" class="submenu">
        <label><input type="radio" name="flowerDecorationLevel" value="اقتصادی">اقتصادی</label>
        <label><input type="radio" name="flowerDecorationLevel" value="معمولی">معمولی</label>
        <label><input type="radio" name="flowerDecorationLevel" value="ویژه">ویژه</label>
      </div>

      <label><input type="checkbox" id="juice" name="services" value="juice">آب‌میوه</label>
      <div id="submenu-juice" class="submenu">
        <label><input type="radio" name="juiceLevel" value="اقتصادی">اقتصادی</label>
        <label><input type="radio" name="juiceLevel" value="معمولی">معمولی</label>
        <label><input type="radio" name="juiceLevel" value="ویژه">ویژه</label>
      </div>

      <label><input type="checkbox" id="dinner" name="services" value="dinner">شام</label>
      <div id="submenu-dinner" class="submenu">
        <label><input type="radio" name="dinnerType" value="دیس پرس">دیس پرس</label>
        <label><input type="radio" name="dinnerType" value="سلف سرویس">سلف سرویس</label>
      </div>
    </fieldset>

    <label for="guestCount">تعداد مهمان‌ها:</label>
    <input type="number" id="guestCount" name="guestCount" placeholder="مثلاً 50" min="1" required>
    <div class="info-text" id="staffCountText">تعداد مهمانداران: 0</div>

    <label for="notes">توضیحات اضافی:</label>
    <textarea id="notes" name="notes" rows="4" placeholder="در صورت نیاز توضیح دهید..."></textarea>

    <input type="submit" value="ارسال رزرو">
    <div id="formError" class="error-text" style="display:none;margin-top:15px"></div>
    <div id="formSuccess" style="color:#b3d98c;font-weight:700;display:none;margin-top:15px"></div>
    <div id="trackingCode" style="color:#b3d98c;font-weight:700;margin-top:15px;display:none;"></div>
  </form>
</main>

<footer>
  &copy; ۲۰۲۵ تشریفات رویایی | همه حقوق محفوظ است.
</footer>

<audio id="bgMusic" src="wigen_wedding.mp3" loop></audio>
<button id="audioToggle" title="پخش/توقف موسیقی">
  <i class="fa fa-music"></i>
</button>

<script src="booking-script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.js"></script>
<script>
  const canvas = document.getElementById('heartCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let hearts = [];

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  function createHeart() {
    const x = random(0, canvas.width);
    const y = canvas.height + 10;
    const size = random(10, 20);
    const speed = random(1, 2);
    const alpha = random(0.3, 0.8);
    return { x, y, size, speed, alpha };
  }

  function drawHeart(x, y, size, alpha) {
    ctx.save();
    ctx.translate(x, y);
    ctx.scale(size / 20, size / 20);
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(0, -3, -5, -5, -5, -10);
    ctx.bezierCurveTo(-5, -15, 0, -18, 0, -20);
    ctx.bezierCurveTo(0, -18, 5, -15, 5, -10);
    ctx.bezierCurveTo(5, -5, 0, -3, 0, 0);
    ctx.closePath();
    ctx.fillStyle = `rgba(255, 105, 135, ${alpha})`;
    ctx.fill();
    ctx.restore();
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    hearts.forEach((heart, i) => {
      heart.y -= heart.speed;
      drawHeart(heart.x, heart.y, heart.size, heart.alpha);
      if (heart.y + heart.size < 0) {
        hearts.splice(i, 1);
      }
    });

    if (Math.random() < 0.05) {
      hearts.push(createHeart());
    }

    requestAnimationFrame(animate);
  }

  animate();

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>

</body>
</html>
