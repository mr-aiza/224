<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>خانه | تشریفات رویایی</title>
  <link rel="stylesheet" href="Style.css" />
  <style>
    /* دکمه موزیک روی موبایل کوچکتر و گوشه پایین سمت چپ */
    #audioToggle {
      position: fixed;
      bottom: 15px;
      left: 15px;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 8px;
      box-shadow: 0 0 8px #ec407a;
      z-index: 9999;
      cursor: pointer;
      background-color: #ec407a;
      color: white;
      border: none;
    }
    @media (max-width: 600px) {
      #audioToggle {
        padding: 6px 12px;
        font-size: 12px;
        bottom: 10px;
        left: 10px;
      }
    }

    /* کلاس قلب‌های کلیک */
    .heart {
      position: absolute;
      width: 30px;
      height: 30px;
      background: url('https://cdn-icons-png.flaticon.com/512/833/833472.png') no-repeat center;
      background-size: contain;
      animation: pop 0.6s ease-out forwards;
      pointer-events: none;
      user-select: none;
      z-index: 9999;
    }

    @keyframes pop {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<button id="audioToggle">پخش موسیقی</button>
<audio id="wigenAudio" preload="auto" loop>
  <source src="wigen_wedding.mp3" type="audio/mpeg" />
</audio>

<nav>
  <a href="index.html" class="active">خانه</a>
  <a href="services.html">خدمات</a>
  <a href="portfolio.html">نمونه‌کارها</a>
  <a href="booking.html">رزرو</a>
  <a href="about.html">درباره ما</a>
  <a href="contact.html">تماس با ما</a>
</nav>

<header>
  <h1>تشریفات رویایی عروسی</h1>
  <p>هر عروسی، فقط یک بار در زندگی اتفاق می‌افتد... و ما این "یک بار" را به خاص‌ترین شکل ممکن برایتان رقم می‌زنیم.</p>
  <p>از لحظه‌ای که وارد دنیای ما می‌شوید، همه چیز تغییر می‌کند: نورها، گل‌ها، موسیقی، لبخندها... هر جزئیات با دقت طراحی می‌شود تا همه‌چیز درست مثل رویا باشد.</p>
  <p>ما فقط مراسم برگزار نمی‌کنیم؛ ما لحظاتی می‌سازیم که در ذهن مهمانان و در قلب شما تا ابد ماندگار می‌شوند.</p>
  <p>با بیش از یک دهه تجربه، تیم ما از بهترین طراحان، دیزاینرها و مجریان تشریفات تشکیل شده تا رویداد شما را بی‌نقص اجرا کند.</p>
  <p>خوش آمدید به تشریفات رویایی؛ جایی که تفاوت فقط یک کلمه نیست، بلکه یک حس است.</p>
</header>

<main>
  <section id="home-intro">
    <h2>خوش آمدید</h2>
    <p>ما با بیش از ۱۰ سال تجربه در برگزاری مراسم‌های لوکس و مجلل، همراه شما هستیم تا خاص‌ترین شب زندگی‌تان را به بهترین شکل ممکن برگزار کنیم.</p>
  </section>
</main>

<footer>
  &copy; 2025 تشریفات رویایی. تمامی حقوق محفوظ است.
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const audio = document.getElementById('wigenAudio');
  const btn = document.getElementById('audioToggle');
  let playing = false;

  btn.addEventListener('click', () => {
    if (playing) {
      audio.pause();
      btn.textContent = 'پخش موسیقی';
    } else {
      audio.play().catch(() => alert("برای پخش، ابتدا روی صفحه کلیک کنید."));
      btn.textContent = 'توقف موسیقی';
    }
    playing = !playing;
  });

  // تلاش برای پخش خودکار با کلیک اول
  document.addEventListener('click', function autoPlayOnce() {
    audio.play().catch(() => {});
    document.removeEventListener('click', autoPlayOnce);
  });

  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth;
  let H = canvas.height = window.innerHeight;

  // قلب روی canvas با پارامترهای کمتر برای موبایل
  const isMobile = window.matchMedia("(max-width: 600px)").matches;
  const heartsCount = isMobile ? 30 : 70;

  function drawHeart(ctx, x, y, size, color) {
    ctx.save();
    ctx.beginPath();
    const topCurveHeight = size * 0.3;
    ctx.moveTo(x, y + topCurveHeight);
    ctx.bezierCurveTo(x, y, x - size / 2, y, x - size / 2, y + topCurveHeight);
    ctx.bezierCurveTo(x - size / 2, y + (size + topCurveHeight) / 2, x, y + (size + topCurveHeight) / 1.2, x, y + size);
    ctx.bezierCurveTo(x, y + (size + topCurveHeight) / 1.2, x + size / 2, y + (size + topCurveHeight) / 2, x + size / 2, y + topCurveHeight);
    ctx.bezierCurveTo(x + size / 2, y, x, y, x, y + topCurveHeight);
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();
    ctx.restore();
  }

  const hearts = [];
  for (let i = 0; i < heartsCount; i++) {
    hearts.push({
      x: Math.random() * W,
      y: Math.random() * H,
      size: isMobile ? (Math.random() * 12 + 6) : (Math.random() * 16 + 8),
      speedX: Math.random() * 0.5 + 0.2,
      speedY: Math.random() * 0.5 + 0.2,
      color: `rgba(236,64,122,${Math.random() * 0.4 + 0.3})`
    });
  }

  function update() {
    ctx.clearRect(0, 0, W, H);
    for (const h of hearts) {
      h.x += h.speedX;
      h.y += h.speedY;
      if (h.x > W) h.x = -h.size;
      if (h.y > H) h.y = -h.size;
      drawHeart(ctx, h.x, h.y, h.size, h.color);
    }
    requestAnimationFrame(update);
  }

  window.addEventListener('resize', () => {
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  });

  update();

  document.body.addEventListener('click', e => {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = `${e.clientX - 15}px`;
    heart.style.top = `${e.clientY - 15}px`;
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 600);
  });
});
</script>

</body>
</html>
